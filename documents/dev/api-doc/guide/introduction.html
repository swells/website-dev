<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>1 Introduction 8.0.0</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/architecture.html"><strong>2</strong><span>Web Service API Architecture</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/overview.html"><strong>3</strong><span>Web Service API Overview</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/working.html"><strong>4</strong><span>Working with the Web Service APIs</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/workingusers.html"><strong>5</strong><span>Working with the User APIs</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/workingprojects.html"><strong>6</strong><span>Working with the Project APIs</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/workingjobs.html"><strong>7</strong><span>Working with the Job APIs</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/workingrepository.html"><strong>8</strong><span>Working with the Repository APIs</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/workingeventstream.html"><strong>9</strong><span>Working with the Event Stream API</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/encodings.html"><strong>10</strong><span>Web Service API Data Encodings</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/explorer.html"><strong>11</strong><span>The API Explorer Tool</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/741changehistory.html"><strong>12</strong><span>API Changes in 7.4.1</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/74changehistory.html"><strong>13</strong><span>API Changes in 7.4</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/73changehistory.html"><strong>14</strong><span>API Changes in 7.3</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/72changehistory.html"><strong>15</strong><span>API Changes in 7.2</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/71changehistory.html"><strong>16</strong><span>API Changes in 7.1</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/70changehistory.html"><strong>17</strong><span>API Changes in 7.0</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/62changehistory.html"><strong>18</strong><span>API Changes in 6.2</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>DeployR API</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../guide/architecture.html"><strong>2</strong><span>Web Service API Architecture</span> >></a></div>
                


                <div class="project">
                    <h1>1 Introduction - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Microsoft Corporation</p>

                    <p><strong>Version:</strong> 8.0.0</p>

                    
                </div>

                
                <div id="table-of-content">
                    <h2>Table of Contents</h2>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#introrlang"><strong>1.1</strong><span>Introducing R</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#introappdev"><strong>1.2</strong><span>Introducing R for App Developers</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#introusers"><strong>1.3</strong><span>Introducing Users on the API</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#introprojects"><strong>1.4</strong><span>Introducing Projects on the API</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#anonymousprojects"><strong>1.4.1</strong><span>Anonymous Projects</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#authenticatedprojects"><strong>1.4.2</strong><span>Authenticated Projects</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#projectcollaboration"><strong>1.4.3</strong><span>Project Ownership &amp; Collaboration</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#introjobs"><strong>1.5</strong><span>Introducing Jobs on the API</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#introrepository"><strong>1.6</strong><span>Introducing the Repository on the API</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#introeventstream"><strong>1.7</strong><span>Introducing the Event Stream on the API</span></a>
                    </div>
                    
                </div>
                

                

<h1 id="introduction">1 Introduction</h1>
The DeployR API exposes the R platform as a service allowing the integration of R statistics, analytics, and visualizations inside Web, desktop and mobile applications. This API is exposed by the DeployR server, a standards-based server technology capable of scaling to meet the needs of enterprise-grade deployments.<p class="paragraph"/>For an overview of additions and updates to the API for the latest release please refer to the section <a href="../guide/single.html#73changehistory" class="guide">API Change History</a> for details.



<h2 id="introrlang">1.1 Introducing R</h2>
<h4>Open Source R</h4><p class="paragraph"/>During the last decade, the momentum coming from both academia and industry has lifted the R programming language to become the single most important tool for computational statistics, visualization and data science. Worldwide, millions of statisticians and data scientists use R to solve their most challenging problems in fields ranging from computational biology to quantitative marketing.<p class="paragraph"/><h4>Microsoft R Services &#38; Microsoft R Open</h4><p class="paragraph"/>Microsoft R Services is a production-grade analytics software built upon the powerful open source R statistics language.<p class="paragraph"/>Microsoft R Open is the enhanced distribution of open source R from Microsoft.<p class="paragraph"/>With the advent of DeployR, the full statistics, analytics and visualization capabilities of R (through Microsoft R Open, Microsoft R Services, or CRAN R) can now be directly leveraged inside Web, desktop and mobile applications.


<h2 id="introappdev">1.2 Introducing R for App Developers</h2>
<h4>R Analytics Web Services</h4><p class="paragraph"/>While data scientists can work with R directly in a console window or IDE, application developers need a different set of tools to leverage R inside applications. The DeployR API exposes R analytics Web services, making the full capabilities of R available to application developers on a simple yet powerful Web services API.<p class="paragraph"/><h4>Analytics Web Service Integration</h4><p class="paragraph"/>As an application developer integrating with DeployR-managed analytics Web services, typically your interest is in executing R code, not writing it. Data scientists with R programming skills write R code. With one-click in the  <em class="italic">DeployR Repository Manager</em>  this R code can be turned into a DeployR-managed analytics Web service. Once R code is exposed by DeployR as a service, an application can make API calls to pass inputs to the service, execute the service and retrieve outputs from the service. Those outputs can include R object data, R graphics output such as plots and charts, and any file data written to the working directory associated the current R session.<p class="paragraph"/>Each time a service is executed on the API, the service makes use of an R session that is managed by DeployR as a  <em class="italic"><strong class="bold">project</strong></em>  on behalf of the application. Depending on the nature and requirements of your application you can choose to execute services on  <em class="italic">anonymous projects</em>  or on  <em class="italic">authenticated projects</em> .<p class="paragraph"/><strong class="bold"><a href="../guide/single.html#anonymousprojects" class="guide">Anonymous Projects</a></strong>
<ol>
<li> <em class="italic"><strong class="bold">Stateless projects</strong></em>  are useful when an application needs an R session to make a one-off request. It may help to think of a stateless project as a disposable R session, that is used once and then discarded. There are many types of application workflows that can benefit from working with stateless projects.</li>
<li> <em class="italic"><strong class="bold">HTTP blackbox projects</strong></em>  make stateful R sessions available to  <em class="italic">anonymous</em>  users. HTTP blackbox projects are useful when an application needs to maintain the same R session for the duration of an  <em class="italic">anonymous</em>  user's HTTP session.</li>
</ol><p class="paragraph"/><strong class="bold"><a href="../guide/single.html#authenticatedprojects" class="guide">Authenticated Projects</a></strong>
<ol>
<li> <em class="italic"><strong class="bold">Temporary projects</strong></em>  are useful when an application needs to maintain the same R session for the duration of an  <em class="italic">authenticated</em>  user's session within the application.</li>
<li> <em class="italic"><strong class="bold">User blackbox projects</strong></em>  are a special type of temporary project that limits API access on the underlying R session. User blackbox projects are most useful when an application developer wants to associate a temporary project with a user without granting that user unfettered access to the underlying R session.</li>
<li> <em class="italic"><strong class="bold">Persistent projects</strong></em>  are useful when an application needs to maintain the same R session across multiple user sessions within the application. Each time a user executes R code on their persistent project the accumulated R objects in the workspace as well as files in the working directory from previous service executions are available. A persistent project remains available indefinitely to the user until they decide to explicitly delete it.</li>
</ol><p class="paragraph"/>To simplify integration of R analytics Web services using the DeployR API, we provide several client libraries, which are currently available for Java, JavaScript and .NET developers. A major benefit of using these client libraries is that they simplify making calls, encoding data, and handling response markup on the API.



<h2 id="introusers">1.3 Introducing Users on the API</h2>
<h4>Authenticated Users</h4><p class="paragraph"/>One of the first steps for most typical applications using this API is to provide a mechanism for users to authenticate with the DeployR server by signing-in and signing-out of the application.<p class="paragraph"/>To sign-in a user must provide username and password credentials. These credentials then need to be verified by the DeployR server using the <a href="../guide/single.html#userlogin" class="guide">/r/user/login</a> call. Credentials are matched against user account data stored in the DeployR database or against user account data stored in LDAP, Active Directory or PAM directory services.<p class="paragraph"/>
If these credentials are verified by the DeployR server, then we say that the user is an  <em class="italic">authenticated</em>  user.  An  <em class="italic">authenticated</em>  user is granted access to the full API, allowing the user to work on <a href="../guide/single.html#introprojects" class="guide">projects</a>, submit or schedule <a href="../guide/single.html#introjobs" class="guide">jobs</a> and work with <a href="../guide/single.html#introrepository" class="guide">repository-managed</a> files and scripts.<p class="paragraph"/><blockquote class="note">
Please refer to the section <a href="../guide/single.html#workingusers" class="guide">Working with User APIs</a> for a detailed description of all user-related APIs.
</blockquote><p class="paragraph"/><h4>Pre-Authenticated Users</h4><p class="paragraph"/>There are situations where a user may have been reliably authenticated by some external system such as Siteminder prior to accessing a DeployR-enabled Web application. These types of pre-authentication scenarios are now supported by the server. Consequently, DeployR-enabled Web applications should omit sign-in and sign-out logic when  <em class="italic">pre-authenticated</em>  users are expected.<p class="paragraph"/>
<h4>Anonymous Users</h4><p class="paragraph"/>While many applications require the security and controls associated with  <em class="italic">authenticated</em>  users there are cases when an application may want to offer specific services to users without ever establishing a formal verification of the user's identity.<p class="paragraph"/>In such situations we say that the user is an  <em class="italic">anonymous</em>  user. Typically an  <em class="italic">anonymous</em>  user is an unauthenticated visitor to a DeployR-enabled Web application.<p class="paragraph"/> <em class="italic">Anonymous</em>  users are only granted access to a single API call, <a href="../guide/single.html#repositoryscriptexecute" class="guide">/r/repository/script/execute</a>. Please refer to section <a href="../guide/single.html#repositoryscripts" class="guide">Working with Repository Script APIs</a> for more details.<p class="paragraph"/>


<h2 id="introprojects">1.4 Introducing Projects on the API</h2>
A  <em class="italic">project</em>  on the DeployR API represents an R session.<p class="paragraph"/>Most R users are accustomed to working with R interactively in an R console window. In this environment users can input commands to manipulate, analyze, visualize and interpret object and file data in the R session. The set of objects in the R session are collectively known as the  <em class="italic">workspace</em> . The set of files in the R session are collectively known as the  <em class="italic">working directory</em> . The R session environment also supports libraries, which allows the functionality found in R packages to be loaded by the user on-demand.<p class="paragraph"/>The DeployR environment supports these same set of functionalities by introducing the concept of  <em class="italic">projects</em>  on the API. As with working in an R console window, all operations on project APIs are synchronous, where requests are processed serially and blocked until completion.<p class="paragraph"/>DeployR supports a number of different types of projects, each of which is designed to support distinct workflows within client applications. The following sections discuss the different types of projects available:<p class="paragraph"/>


<h2 id="anonymousprojects">1.4.1 Anonymous Projects</h2>
An  <em class="italic">anonymous project</em>  is a project created by an  <em class="italic">anonymous</em>  user. There are two types of  <em class="italic">anonymous</em>  project:
<ol>
<li>Stateless Project</li>
<li>HTTP Blackbox Project</li>
</ol><p class="paragraph"/> <em class="italic">Stateless</em>  and  <em class="italic">HTTP Blackbox</em>  projects can be created using the following API calls:
<ol>
<li><a href="../guide/single.html#repositoryscriptexecute" class="guide">/r/repository/script/execute</a> | Executes a repository-managed script on an anonymous project</li>
<li><a href="../guide/single.html#repositoryscriptrender" class="guide">/r/repository/script/render</a> | Executes a repository-managed script on an anonymous project and renders outputs to HTML</li>
</ol><p class="paragraph"/>Note:  <em class="italic">Anonymous</em>  users are not permitted to work directly with the <a href="../guide/single.html#overviewprojects" class="guide">Project APIs</a>, those APIs are only available to  <em class="italic">authenticated</em>  users.<p class="paragraph"/><h4>Stateless Projects</h4><p class="paragraph"/>Stateless projects are useful when an application needs to make a one-off request on an R session. Once the service request has responded with the results of the execution the R session is shutdown and permanently deleted by the server.<p class="paragraph"/><h4>HTTP Blackbox Projects</h4><p class="paragraph"/>With the introduction of  <em class="italic">HTTP blackbox</em>  projects, stateful R sessions are now available to  <em class="italic">anonymous</em>  users. HTTP blackbox projects are useful when an application needs to maintain the same R session for the duration of an  <em class="italic">anonymous</em>  user's HTTP session. Once the HTTP session expires or the server detects that the  <em class="italic">anonymous</em>  user has been idle (default: 15 minutes idle timeout) the HTTP blackbox project and all associated state are permanently deleted by the server. There can only be one HTTP blackbox project live on a HTTP session at any given time.<p class="paragraph"/>To execute an R script on a HTTP blackbox project, enable the  <em class="italic"><strong class="bold">blackbox</strong></em>  parameter on the following calls:
<ol>
<li><a href="../guide/single.html#repositoryscriptexecute" class="guide">/r/repository/script/execute</a> | Executes a repository-managed script on an anonymous project</li>
<li><a href="../guide/single.html#repositoryscriptrender" class="guide">/r/repository/script/render</a> | Executes a repository-managed script on an anonymous project and renders outputs to HTML</li>
</ol><p class="paragraph"/>There are two types of data that can be returned when executing an R script on a HTTP blackbox project:
<ol>
<li>Unnamed plots generated by the R graphics device on the execution are returned as results</li>
<li>Named workspace objects identified on the  <em class="italic">robjects</em>  parameter can be returned as DeployR-encoded R objects</li>
</ol><p class="paragraph"/>All files in a HTTP blackbox project's working directory are completely hidden from the user.<p class="paragraph"/>These calls also support a  <em class="italic"><strong class="bold">recycle</strong></em>  parameter that can be used when working with HTTP blackbox projects. When this parameter is enabled the underlying R session is recycled before the execution occurs. Recycling an R session deletes all R objects from the workspace and all files from the working directory. The ability to  <em class="italic">recycle</em>  a HTTP blackbox project gives an  <em class="italic">anonymous</em>  user control over the R session lifecycle.<p class="paragraph"/>To interrupt an execution on the HTTP blackbox project on the current HTTP session use the following call:
<ol>
<li><a href="../guide/single.html#repositoryscriptinterrupt" class="guide">/r/repository/script/interrupt</a> | Interrupts an execution on a HTTP blackbox project</li>
</ol><p class="paragraph"/>


<h2 id="authenticatedprojects">1.4.2 Authenticated Projects</h2>
An  <em class="italic">authenticated project</em>  is a project created by an  <em class="italic">authenticated</em>  user. There are three types of  <em class="italic">authenticated</em>  project:
<ol>
<li>Temporary Project</li>
<li>User Blackbox Project</li>
<li>Persistent Project</li>
</ol><p class="paragraph"/> <em class="italic">Authenticatd projects</em>  can be created using the following API calls:
<ol>
<li><a href="../guide/single.html#projectcreate" class="guide">/r/project/create</a> | Creates a new temporary, user blackbox or persistent project</li>
<li><a href="../guide/single.html#projectpool" class="guide">/r/project/pool</a> | Creates a pool of temporary projects</li>
</ol><p class="paragraph"/> <em class="italic">Authenticated</em>  users own projects. Each  <em class="italic">authenticated</em>  user can create zero, one or more projects. Each project is allocated its own workspace and working directory on the server and maintains its own set of R package dependencies along with a full R command history. A user can execute R code on a project using the <a href="../guide/single.html#projectexecutecode" class="guide">/r/project/execute/code</a> and <a href="../guide/single.html#projectexecutescript" class="guide">/r/project/execute/script</a> calls and retrieve the R command history for the project using the <a href="../guide/single.html#projectexecutehistory" class="guide">/r/project/execute/history</a> call.<p class="paragraph"/>Note: Given an  <em class="italic">authenticated</em>  user can do everything an  <em class="italic">anonymous</em>  user can do on the API it is possible for an  <em class="italic">authenticated</em>  user to create and work with  <em class="italic">anonymous projects</em>  as described in the section <a href="../guide/single.html#anonymousprojects" class="guide">Anonymous Projects</a>.<p class="paragraph"/><h4>Temporary Projects</h4><p class="paragraph"/>Temporary projects are useful when an application needs to maintain the same R session for the duration of an  <em class="italic">authenticated</em>  user's session within the application. Once the user makes an explicit call on <a href="../guide/single.html#projectclose" class="guide">/r/project/close</a> or simply signs-out of the application the temporary project and all associated state are permanently deleted by the server.<p class="paragraph"/>A user can create a temporary project by omitting the  <em class="italic">name</em>  parameter on the <a href="../guide/single.html#projectcreate" class="guide">/r/project/create</a> call or they can create a pool of temporary projects using the <a href="../guide/single.html#projectpool" class="guide">/r/project/pool</a> call.<p class="paragraph"/><blockquote class="note">
<strong class="bold">Important!</strong> All  <em class="italic">unnamed projects</em>  are  <em class="italic">temporary projects</em> .
</blockquote><p class="paragraph"/><h4>User Blackbox Projects</h4><p class="paragraph"/>A user blackbox project is a special type of temporary project that limits API access on the underlying R session. User blackbox projects are most useful when an application developer wants to associate a temporary project with a user without granting that user unfettered access to the underlying R session.<p class="paragraph"/>There are two types of data  that can be returned when executing an R script on a user blackbox project:
<ol>
<li>Unnamed plots generated by the R graphics device on the execution are returned as results</li>
<li>Named workspace objects identified on the  <em class="italic">robjects</em>  parameter can be returned as DeployR-encoded R objects</li>
</ol><p class="paragraph"/>All files in a user blackbox project's working directory are completely hidden from the user.<p class="paragraph"/>User blackbox projects can be created using the  <em class="italic">blackbox</em>  parameter on the following API calls:
<ul class="star">
<li><a href="../guide/single.html#projectcreate" class="guide">/r/project/create</a> | Creates a new project</li>
<li><a href="../guide/single.html#projectpool" class="guide">/r/project/pool</a> | Creates a pool of temporary projects</li>
</ul><p class="paragraph"/>User blackbox projects permit only the following subset of project-related API calls:
<ul class="star">
<li><a href="../guide/single.html#projectexecutescript" class="guide">/r/project/execute/script</a> | Executes a script on project</li>
<li><a href="../guide/single.html#projectexecuteinterrupt" class="guide">/r/project/execute/interrupt</a> | Interrupts a code execution on project</li>
<li><a href="../guide/single.html#projectping" class="guide">/r/project/ping</a> | Pings a project</li>
<li><a href="../guide/single.html#projectrecycle" class="guide">/r/project/recycle</a> | Recycles a project R session</li>
<li><a href="../guide/single.html#projectclose" class="guide">/r/project/close</a> | Closes a project</li>
</ul><p class="paragraph"/>This set of API calls on user blackbox projects are collectively known as the  <em class="italic">User Blackbox API Controls</em> .<p class="paragraph"/>A user blackbox project also ensure that none of the R code from the R scripts that are executed on that project is ever returned in the response markup.<p class="paragraph"/><h4>Persistent Projects</h4><p class="paragraph"/>Persistent projects are useful when an application needs to maintain the same R session across multiple user sessions within the application. A persistent project is stored indefinitely in the server unless it is explicitly deleted by the user. Whenever users return to the server their own persistent projects are available so that, users can pick up where they last left off. In this way, persistent projects can be developed over days, weeks, months even years.<p class="paragraph"/>The server stores the following state for each persistent project:
<ul class="star">
<li>Project workspace.</li>
<li>Project working directory.</li>
<li>Project package dependencies.</li>
<li>Project R command history and associated results.</li>
</ul><p class="paragraph"/>An  <em class="italic">authenticated</em>  user can create a persistent project by specifying a value for the  <em class="italic">name</em>  parameter on the <a href="../guide/single.html#projectcreate" class="guide">/r/project/create</a> call. Alternatively, if a user is working on a temporary project then that project can become persistent once the user makes a call on <a href="../guide/single.html#projectsave" class="guide">/r/project/save</a> which has the effect of naming the project.<p class="paragraph"/><blockquote class="note">
<strong class="bold">Important!</strong> All  <em class="italic">named projects</em>  are  <em class="italic">persistent projects</em> .
</blockquote><p class="paragraph"/><blockquote class="note">
Please refer to the section <a href="../guide/single.html#workingprojects" class="guide">Working with Projects</a> for a detailed description of all  <em class="italic">authenticated project</em>  related APIs.
</blockquote><p class="paragraph"/>



<h2 id="projectcollaboration">1.4.3 Project Ownership & Collaboration</h2>
As noted,  each  <em class="italic">authenticated</em>  user can create zero, one or more projects. Each newly created project is by default privately owned, and visible only to it's creator. Such user-based privacy is a central aspect of the DeployR security model. However, there are scenarios in which a more flexible access model for projects would benefit users by facilitating collaboration among them.<p class="paragraph"/><h4>Persistent Project Read-Only Collaboration</h4><p class="paragraph"/>A project owner may wish to share a project by granting read-only access to fellow  <em class="italic">authenticated</em>  users on the same DeployR server. Once read-only access has been granted it facilitates discussions, demonstrations and so on.<p class="paragraph"/>To facilitate these kinds of workflows the <a href="../guide/single.html#projectaboutupdate" class="guide">/r/project/about/update</a> call allows users to toggle the read-only "shared" access controls on any of their private projects. Using this call to enable shared/read-only access on a project makes the project visible to all authenticated users. Using this call to disable shared/read-only access on a project makes the project invisible to all but the project owner(s).<p class="paragraph"/><h4>Persistent Project Read-Write Collaboration </h4><p class="paragraph"/>At times a project owner may also wish to grant read-write access on a project to fellow  <em class="italic">authenticated</em>  users sharing the same DeployR server so they can actively collaborate on the development of a project. This type of project collaboration would be beneficial, for example, as part of a planned multistage development or simply to permit work on the project to continue when the original project owner goes on vacation.<p class="paragraph"/>To facilitate these kinds of workflows a project owner can now grant authorship rights on a project to one or more  <em class="italic">authenticated</em>  users using the <a href="../guide/single.html#projectgrant" class="guide">/r/project/grant</a> call. Once a user has been granted authorship rights on a project they effectively co-own the project and can view, modify and even delete the project. Where mutiple users have been granted authorship rights on a project the server ensures that only one user can be actively working on the project at any one time.<p class="paragraph"/><blockquote class="note">
<strong class="bold">Important!</strong> Deleting a project with multiple authors simply revokes authorship rights to the project for the caller. After the call, all other authors on the project still have full access to the project. If the last remaining author deletes a project, then the project is permanently deleted.
</blockquote>



<h2 id="introjobs">1.5 Introducing Jobs on the API</h2>
Working with R interactively in an R console window or working with projects on the API are both examples of synchronous working environments where a user can make a request that will be blocked until processing completes and an appropriate response is generated and returned. When working with R interactively, the response is displayed as output in the R console window. When working with projects on the API, the response is well-formed markup on the response stream.<p class="paragraph"/>However, there are times when it can be advantageous to permit users to make requests without requiring that they wait for responses. For example, consider long-running operations that could take hours or even days to complete.<p class="paragraph"/>The DeployR environment supports these types of long-running operations by introducing the concept of  <em class="italic">jobs</em>  on the API. DeployR managed jobs support the execution of commands in the background on behalf of users.<p class="paragraph"/><blockquote class="note">
Please refer to the section <a href="../guide/single.html#workingjobs" class="guide">Working with Jobs</a> for a detailed description of all job related APIs.
</blockquote><p class="paragraph"/>


<h2 id="introrepository">1.6 Introducing the Repository on the API</h2>
The DeployR environment offers  <em class="italic">authenticated</em>  users versioned file storage by introducing the concept of a  <em class="italic">repository</em>  on the API. The repository provides a persistent store for user files of any type, including binary object files, plot image files, data files, simple text files and files containing blocks of R code which are referred to as <a href="../guide/single.html#repositoryscripts" class="guide">repository-managed scripts</a>.<p class="paragraph"/>Because the repository supports a versioned file system a full version history for each file is maintained and any version of a file can be retrieved upon request.<p class="paragraph"/>
<h4>Repository-Managed Files</h4><p class="paragraph"/>Each user has access to a private repository store. Each file placed in that store will be maintained indefinitely by the server unless it is explicitly deleted by the user.<p class="paragraph"/>Repository-managed files can be easily loaded by users directly into <a href="../guide/single.html#anonymousprojects" class="guide">anonymous projects</a>, <a href="../guide/single.html#authenticatedprojects" class="guide">authenticated projects</a> as well as into jobs. For example, a binary object file in the repository can be loaded directly into a project workspace using the <a href="../guide/single.html#projectworkspaceload" class="guide">/r/project/workspace/load</a> call. A data file can be loaded directly into a project working directory using the <a href="../guide/single.html#projectdirectoryload" class="guide">/r/project/directory/load</a> call.<p class="paragraph"/>Conversely, objects in a project workspace and files in a project working directory can be stored directly to the repository using the <a href="../guide/single.html#projectworkspacestore" class="guide">/r/project/workspace/store</a> and <a href="../guide/single.html#projectdirectorystore" class="guide">/r/project/directory/store</a> calls respectively.<p class="paragraph"/>Repository-managed files can also be loaded directly into the workspace or working directory ahead of executing code on <a href="../guide/single.html#anonymousprojects" class="guide">anonymous projects</a> or an asynchronous  <em class="italic">job</em> .<p class="paragraph"/><blockquote class="note">
Please refer to the section <a href="../guide/single.html#repositoryfiles" class="guide">Working with Repository Files</a> for further details.
</blockquote><p class="paragraph"/><h4>Repository File Ownership &#38; Collaboration</h4><p class="paragraph"/>By default, files in a user's private repository are visible only to that user. Such user-based privacy is a central aspect of the DeployR security model. However, there are situations that can benefit from a more flexible access model for repository-managed files.<p class="paragraph"/><h4>Repository File Read-Only Collaboration</h4><p class="paragraph"/>A user may wish to share a file in their private repository by granting read-only access to fellow  <em class="italic">authenticated</em>  and/or  <em class="italic">anonymous</em>  users. Once read-only access has been granted to users they can download and view the file. In the case of a repository-managed script users can also execute the file.<p class="paragraph"/>To facilitate these kinds of workflows the <a href="../guide/single.html#repositoryfileupdate" class="guide">/r/repository/file/update</a> call allows users to toggle the read-only access controls on any of their repository-managed files.<p class="paragraph"/>Using this call to enable  <em class="italic">shared</em>  access on a file makes the file visible to  <em class="italic">authenticated</em>  users. Using this call to enable  <em class="italic">published</em>  access on a file makes the file visible to  <em class="italic">authenticated</em>  and  <em class="italic">anonymous</em>  users.<p class="paragraph"/><h4>Repository File Read-Write Collaboration</h4><p class="paragraph"/>At times the owner of a repository-managed file may also wish to grant read-write access on a file so that fellow  <em class="italic">authenticated</em>  users who are sharing the same DeployR server can actively collaborate on the development of a file. For example, consider a situation where the owner of a repository-managed script wishes to collaborate more closely on it's design and implementation with a select group of  <em class="italic">authenticated</em>  users.<p class="paragraph"/>To facilitate this kind of collaborative workflow a user can now grant authorship rights on a repository file to one or more  <em class="italic">authenticated</em>  users using the <a href="../guide/single.html#repositoryfilegrant" class="guide">/r/repository/file/grant</a> call. Once a user has been granted authorship rights on a repository-managed file the user now co-owns the file and has the ability to download, modify and even delete the file.<p class="paragraph"/><blockquote class="note">
<strong class="bold">Important!</strong>
When modifying a repository-managed file with multiple authors it is the responsibility of the users in the collaborative workflow to ensure the overall consistency of the file.
</blockquote><p class="paragraph"/><blockquote class="note">
<strong class="bold">Important!</strong> Deleting a repository-managed file with multiple authors simply revokes authorship rights to the file for the caller. After the call all other authors on the file will still have full access to the file. If the last remaining author deletes a repository-managed file, then the file is permanently deleted.
</blockquote><p class="paragraph"/>
<h4>Repository-Managed Scripts</h4><p class="paragraph"/>Repository-managed scripts are a special type of repository-managed file. Any file with a  <em class="italic">.r</em>  or a  <em class="italic">.R</em>  extension will be identified by the server as a repository-managed script.<p class="paragraph"/>These scripts are essentially blocks of R code with well-defined inputs and outputs. While scripts are technically also repository-managed files, they are designed to be exposed as an executable on the API.<p class="paragraph"/>Scripts can be created, managed and deployed using the standard Repository APIs or directly within the  <em class="italic">DeployR Repository Manager</em> . Please refer to the  <em class="italic"><strong class="bold">Repository Manager Help</strong></em>  guide for further details.<p class="paragraph"/> <em class="italic">Authenticated</em>  users can execute scripts within the context of any project using the <a href="../guide/single.html#projectexecutescript" class="guide">/r/project/execute/script</a> call. Both  <em class="italic">authenticated</em>  and  <em class="italic">anonymous</em>  users can execute scripts within the context of <a href="../guide/single.html#anonymousprojects" class="guide">anonymous projects</a> using the <a href="../guide/single.html#repositoryscriptexecute" class="guide">/r/repository/script/execute</a> and <a href="../guide/single.html#repositoryscriptrender" class="guide">/r/repository/script/render</a> calls.<p class="paragraph"/><blockquote class="note">
Please refer to the section <a href="../guide/single.html#repositoryscripts" class="guide">Working with Repository Scripts</a> for a detailed description of repository-managed script-specific APIs.
</blockquote><p class="paragraph"/><blockquote class="note">
<strong class="bold">Important!</strong> Repository-managed scripts are files in the repository so all API calls described in the section <a href="../guide/single.html#repositoryfiles" class="guide">Working with Repository Files</a> are available to create and manage repository-managed scripts.
</blockquote><p class="paragraph"/><h4>Repository-Managed Shell Scripts</h4><p class="paragraph"/>The Repository Shell Script APIs provide some shell script-specific
functionality for repository-managed shell scripts.<p class="paragraph"/>Shell scripts can be .sh, .csh, .bash, or .bat files.<p class="paragraph"/>While shell scripts are technically also repository-managed files, shell scripts differ
from other repository-managed files as they are executable on the DeployR server.<p class="paragraph"/>Due to the special security concerns associated with excuting shell
scripts on the DeployR server only shell scripts owned by ADMINISTRATOR
users can be executed on this API call. Any attempt to execute a shell
script stored in the repository that is not owned by an ADMINISTRATOR
user will be rejected.<p class="paragraph"/>Access to repository-managed shell scripts is controlled by the
standard set of private, restricted, shared and public DeployR
repository access controls on a file-by-file basis.<p class="paragraph"/><blockquote class="note">
Please refer to the section <a href="../guide/single.html#repositoryshell" class="guide">Working with Repository Shell Scripts</a>
for a detailed description of repository-managed shell script-specific APIs.
</blockquote><p class="paragraph"/>



<h2 id="introeventstream">1.7 Introducing the Event Stream on the API</h2>
The event stream API is unique within the DeployR API as it supports push notifications from the DeployR server to client applications. Notifications correspond to discrete events that occur within the DeployR server. Rather than periodically polling the server for updates a client application can simply subscribe once to the event stream and then receive event notifications pushed by the server.<p class="paragraph"/><blockquote class="note">
Please refer to section <a href="../guide/single.html#workingeventstream" class="guide">Working with Event Stream APIs</a> for a detailed description of the different types of events available on the Event Stream.
</blockquote><p class="paragraph"/>



                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item next-right"><a href="../guide/architecture.html"><strong>2</strong><span>Web Service API Architecture</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    Copyright (c) 2009-2016 Microsoft Corporation
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
