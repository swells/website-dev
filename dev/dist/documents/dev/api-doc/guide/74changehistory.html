<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>13 API Changes in 7.4 8.0.0</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/architecture.html"><strong>2</strong><span>Web Service API Architecture</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/overview.html"><strong>3</strong><span>Web Service API Overview</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/working.html"><strong>4</strong><span>Working with the Web Service APIs</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/workingusers.html"><strong>5</strong><span>Working with the User APIs</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/workingprojects.html"><strong>6</strong><span>Working with the Project APIs</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/workingjobs.html"><strong>7</strong><span>Working with the Job APIs</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/workingrepository.html"><strong>8</strong><span>Working with the Repository APIs</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/workingeventstream.html"><strong>9</strong><span>Working with the Event Stream API</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/encodings.html"><strong>10</strong><span>Web Service API Data Encodings</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/explorer.html"><strong>11</strong><span>The API Explorer Tool</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/741changehistory.html"><strong>12</strong><span>API Changes in 7.4.1</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/74changehistory.html"><strong>13</strong><span>API Changes in 7.4</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/73changehistory.html"><strong>14</strong><span>API Changes in 7.3</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/72changehistory.html"><strong>15</strong><span>API Changes in 7.2</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/71changehistory.html"><strong>16</strong><span>API Changes in 7.1</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/70changehistory.html"><strong>17</strong><span>API Changes in 7.0</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/62changehistory.html"><strong>18</strong><span>API Changes in 6.2</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>DeployR API</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/741changehistory.html">&lt;&lt; <strong>12</strong><span>API Changes in 7.4.1</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../guide/73changehistory.html"><strong>14</strong><span>API Changes in 7.3</span> >></a></div>
                


                <div class="project">
                    <h1>13 API Changes in 7.4 - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Microsoft Corporation</p>

                    <p><strong>Version:</strong> 8.0.0</p>

                    
                </div>

                
                <div id="table-of-content">
                    <h2>Table of Contents</h2>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#clusterexecution"><strong>13.1</strong><span>New Grid Cluster Targeted Executions</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#phantomexecution"><strong>13.2</strong><span>New Project Phantom Executions</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#repositorylistexternal"><strong>13.3</strong><span>New External Repository Support</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#repositorylistfilters"><strong>13.4</strong><span>New Default and External Repository Filters</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#shellscriptexecution"><strong>13.5</strong><span>New Repository Shell Script Execution</span></a>
                    </div>
                    
                </div>
                

                

<h1 id="74changehistory">13 API Changes in 7.4</h1>
<h4>Summary</h4>



<h2 id="clusterexecution">13.1 New Grid Cluster Targeted Executions</h2>
Grid node "cluster" names, used to denote the runtime characteristics of a
node, can be assigned by the DeployR admin, using the
<a href="http://go.microsoft.com/fwlink/?LinkId=708543" target="blank">Administration Console</a>,
to individual nodes or groups of nodes on the DeployR grid, for example,
"hi-mem" or "hi-cpu".<p class="paragraph"/>By identifying a value on a new  <em class="italic">cluster</em>  parameter client applications can
request tasks be executed on nodes within a specific cluster on the grid on
the following calls:
<ul class="star">
<li><a href="../guide/single.html#projectcreate" class="guide">/r/project/create</a></li>
<li><a href="../guide/single.html#projectpool" class="guide">/r/project/pool</a></li>
<li><a href="../guide/single.html#repositoryscriptexecute" class="guide">/r/repository/script/execute</a></li>
<li><a href="../guide/single.html#repositoryscriptrender" class="guide">/r/repository/script/render</a></li>
<li><a href="../guide/single.html#jobsubmit" class="guide">/r/job/submit</a></li>
<li><a href="../guide/single.html#jobschedule" class="guide">/r/job/schedule</a></li>
</ul><p class="paragraph"/>Cluster names are case-inssensitive so "Hi-Mem" and "hi-mem" indicate the
same cluster. If the  <em class="italic">cluster</em>  indicated on any of these calls fails to
match a actual cluster name assigned by the admin on the DeployR grid the
call will be rejected.<p class="paragraph"/>This feature is DeployR Enterprise only.



<h2 id="phantomexecution">13.2 New Project Phantom Executions</h2>

Phantom executions are a special type of execution on a project that
avoid per-execution meta-data being created by the server in the database.
This helps avoid database resource exhaustion on the server when
high-throughput, long-lived project pools are in use, such as pools used
by the RBroker Framework.<p class="paragraph"/>Client applications can request tasks be executed as phantom executions
by enabling the value of the new  <em class="italic">phantom</em>  parameter on the following calls:
<ul class="star">
<li><a href="../guide/single.html#projectexecutecode" class="guide">/r/project/execute/code</a></li>
<li><a href="../guide/single.html#projectexecutescript" class="guide">/r/project/execute/script</a></li>
</ul><p class="paragraph"/>Note, a phantom execution will not appear in the project history returned
by the <a href="../guide/single.html#projectexecutehistory" class="guide">/r/project/execute/history</a> call.<p class="paragraph"/>This feature is supported by DeployR Open and DeployR Enterprise.



<h2 id="repositorylistexternal">13.3 New External Repository Support</h2>
DeployR has always provided <a href="../guide/single.html#workingrepository" class="guide">API support</a> for
working with repository-managed files and scripts that have been 
uploaded into the  <em class="italic">DeployR Default Repository</em> . DeployR 7.4 server
introduces support for a new repository store known as the
 <em class="italic">DeployR External Repository</em> .<p class="paragraph"/>Unlike the default repository which is backed by the MongoDB database,
the new external repository is simply a directory on disk from where
the DeployR server can list and load files and execute scripts.<p class="paragraph"/>Managing files in the external repository is as simple as creating,
editing, copying, moving and deleting files on disk. All interactions
with the external repository on the API are read-only, so files and
scripts can be listed, loaded and even executed but not modified in
any way on the API.<p class="paragraph"/><blockquote class="note">
The DeployR External Repository can be used to provide a seamless
bridge between existing file control systems, such as git and svn,
and the DeployR server.
</blockquote><p class="paragraph"/>Listing external repository-managed files and scripts is supported
using a new  <em class="italic">external</em>  parameter on the following set of APIs:
<ul class="star">
<li><a href="../guide/single.html#repositoryfilelist" class="guide">/r/repository/file/list</a></li>
<li><a href="../guide/single.html#repositoryscriptlist" class="guide">/r/repository/script/list</a></li>
<li><a href="../guide/single.html#repositorydirectorylist" class="guide">/r/repository/directory/list</a></li>
</ul><p class="paragraph"/>Loading and executing external repository-managed files and scripts
use the existing set of  <em class="italic">filename</em> ,  <em class="italic">directory</em> , and  <em class="italic">author</em>  parameters
on the following calls:
<ul class="star">
<li><a href="../guide/single.html#projectexecutecode" class="guide">/r/project/execute/code</a></li>
<li><a href="../guide/single.html#projectexecutescript" class="guide">/r/project/execute/script</a></li>
<li><a href="../guide/single.html#projectdirectoryload" class="guide">/r/project/directory/load</a></li>
<li><a href="../guide/single.html#projectworkspaceload" class="guide">/r/project/workspace/load</a></li>
<li><a href="../guide/single.html#repositoryscriptexecute" class="guide">/r/repository/script/execute</a></li>
<li><a href="../guide/single.html#repositoryscriptrender" class="guide">/r/repository/script/render</a></li>
<li><a href="../guide/single.html#jobsubmit" class="guide">/r/job/submit</a></li>
<li><a href="../guide/single.html#jobschedule" class="guide">/r/job/schedule</a></li>
</ul><p class="paragraph"/>The base directory for the external repository can be found here on
DeployR server:<p class="paragraph"/><div class="code"><pre>$DEPLOYR_HOME/deployr/external/repository</pre></div><p class="paragraph"/>Each user can maintain private, shared and public files in the
external repository at the following locations respectively:<p class="paragraph"/><div class="code"><pre>// Private external repository files.
$DEPLOYR_HOME/deployr/external/repository/&#123;username&#125;<p class="paragraph"/>// Shared external repository files.
$DEPLOYR_HOME/deployr/external/repository/shared/&#123;username&#125;<p class="paragraph"/>// Public external repository files.
$DEPLOYR_HOME/deployr/external/repository/<span class="java&#45;keyword">public</span>/&#123;username&#125;<p class="paragraph"/>// Note, sub&#45;directories are supported by the external repository,
// <span class="java&#45;keyword">for</span> example, the following files are all privately owned by testuser:
$DEPLOYR_HOME/deployr/external/repository/testuser/plot.R
$DEPLOYR_HOME/deployr/external/repository/testuser/demo/score.R
$DEPLOYR_HOME/deployr/external/repository/testuser/demo/model.rData</pre></div><p class="paragraph"/>A small number of sample files are deployed to the external repository
following each new DeployR 7.4 installation and you may try out the
external repository using new support found in the latest
<a href="../guide/single.html#explorer" class="guide">API Explorer</a>.<p class="paragraph"/>For more information about working with the new DeployR External
Repository please post your questions to the
<a href="https://groups.google.com/forum/#!forum/deployr" target="blank">DeployR Google Group</a>.<p class="paragraph"/>This feature is supported by DeployR Open and DeployR Enterprise.



<h2 id="repositorylistfilters">13.4 New Default and External Repository Filters</h2>
Each of the following APIs have been updated to support more
sophisticated filters on results:
<ul class="minus">
<li><a href="../guide/single.html#repositoryfilelist" class="guide">/r/repository/file/list</a></li>
<li><a href="../guide/single.html#repositorydirectorylist" class="guide">/r/repository/directory/list</a></li>
</ul><p class="paragraph"/>Using the  <em class="italic">directory</em>  and  <em class="italic">categoryFilter</em>  independently or 
together the results returned on these calls can be filtered
to specific subsets of available files, for example:<p class="paragraph"/><strong class="bold">(1) Show me all of the  <em class="italic">data</em>  files across all of my directories in the default repository</strong><p class="paragraph"/><div class="code"><pre>categoryFilter=data</pre></div><p class="paragraph"/><strong class="bold">(2) Show me all of the files in the  <em class="italic">tutorial</em>  directory in the default repository</strong><p class="paragraph"/><div class="code"><pre>directory=tutorial</pre></div><p class="paragraph"/><strong class="bold">(3) Show me just  <em class="italic">binary R files</em>  within the  <em class="italic">example-fraud-score</em>  directory in the default repository</strong><p class="paragraph"/><div class="code"><pre>directory=example&#45;fraud&#45;score
categoryFilter=R</pre></div><p class="paragraph"/><strong class="bold">(4) Show me just  <em class="italic">R scripts</em>  within my private  <em class="italic">demo</em>  directory in the external repository</strong><p class="paragraph"/><div class="code"><pre>directory=external:root:demo
categoryFilter=script</pre></div><p class="paragraph"/><strong class="bold">(5) Show me just  <em class="italic">R scripts</em>  within testuser's public  <em class="italic">plot</em>  directory in the external repository</strong><p class="paragraph"/><div class="code"><pre>directory=external:<span class="java&#45;keyword">public</span>:testuser:plot
categoryFilter=script</pre></div><p class="paragraph"/>This feature is supported by DeployR Open and DeployR Enterprise.



<h2 id="shellscriptexecution">13.5 New Repository Shell Script Execution</h2>
The following new Repository Shell API has been added:
<ol>
<li><a href="../guide/single.html#repositoryshellexecute" class="guide">/r/repository/shell/execute</a> | Executes a repository-managed shell script on the DeployR server.</li>
</ol><p class="paragraph"/>For more information about working with this new API please post your questions
to the <a href="https://groups.google.com/forum/#!forum/deployr" target="blank">DeployR Google Group</a>.<p class="paragraph"/>This feature is supported by DeployR Open and DeployR Enterprise.


                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/741changehistory.html">&lt;&lt; <strong>12</strong><span>API Changes in 7.4.1</span></a></div>
                
                    <div class="toc-item next-right"><a href="../guide/73changehistory.html"><strong>14</strong><span>API Changes in 7.3</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    Copyright (c) 2009-2016 Microsoft Corporation
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
