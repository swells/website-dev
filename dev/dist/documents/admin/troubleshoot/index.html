<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta http-equiv="x-ua-compatible" content="IE=edge">
<meta charset="utf-8">
<meta name="description" content="">
<meta name="viewport" content="width=device-width">
<meta name="description" content="DeployR - Simple R analytics integration for application developers.">
<meta name="keywords" content="R,Simple,DeployR,Java,JavaScript,.NET,Statistics,Big Data">
<meta name="author" content="Microsoft Corporation">
<meta name="google-site-verification" content="BQWjliQil8coeYFDfd-nee7j5GDJ0p-6lU4abeJiAZU">

<!--<time itemprop="buildDate" datetime="Wednesday, March 16th, 2016, 9:47:06 AM PDT"></time>-->

<title>
  DeployR &middot; Diagnostics &amp; Troubleshooting
</title>

<!-- Favicons -->
<link rel="shortcut icon" href="../../../assets/img/favicon.png" type="image/png" >
<link rel="icon" href="../../../assets/img/favicon.png" type="image/png">

<!-- Bootstrap styles -->
<link rel="stylesheet" href="../../../assets/css/vendor/bootstrap/bootstrap.min.css">

<!-- Documentation extras -->
<link href="../../../assets/css/github.css" rel="stylesheet">

<!-- Glyphicons -->
<link rel="stylesheet" href="../../../assets/css/vendor/glyphicons/glyphicons.min.css">
<link rel="stylesheet" href="../../../assets/css/vendor/glyphicons/filetypes.min.css">
<link rel="stylesheet" href="../../../assets/css/vendor/glyphicons/social.min.css">

<!-- Google Webfonts -->
<link href="//fonts.googleapis.com/css?family=Open+Sans:400,700,600" rel="stylesheet" type="text/css">

<!-- LayerSlider styles -->
<link rel="stylesheet" href="../../../assets/css/vendor/layerslider/layerslider.min.css" type="text/css">

<!-- Grove Styles (switch for different color schemes, e.g. "styles-cleanblue.css") -->
<link rel="stylesheet" href="../../../assets/css/styles-blue.css" id="grove-styles">

<!-- Site Styles -->
<link href="../../../assets/css/site.css" rel="stylesheet">

<!--[if lt IE 9]>
  <link rel="stylesheet" href="../../../assets/css/ie8.css">        
  <script src="../../../assets/js/vendor/google/html5-3.6-respond-1.1.0.min.js"></script>
<![endif]-->

<script src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-1.9.1.min.js"></script>
<script>window.jQuery || document.write('<script src="../../../assets/js/vendor/jquery/jquery-1.9.1.min.js"><\/script>')</script>
<!-- jQuery with jQuery Easing, and jQuery Transit JS -->
     
<!-- LayerSlider from Kreatura Media with Transitions -->
<script src="../../../assets/js/vendor/layerslider/greensock.js" type="text/javascript"></script>
<script src="../../../assets/js/vendor/layerslider/layerslider.transitions.js" type="text/javascript"></script>
<script src="../../../assets/js/vendor/layerslider/layerslider.kreaturamedia.jquery.js" type="text/javascript"></script>

<!-- Grove Layerslider initiation script -->
<script src="../../../assets/js/grove-slider.js" type="text/javascript"></script>

<!-- GA for DeployR-site -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-6984166-13', 'auto');
  ga('send', 'pageview');
</script>
  </head>
  <body data-spy="scroll" data-target="#sidenav">
    <a class="sr-only" href="#content">Skip to main content</a>

    <!-- master nav -->
    <header>
   <nav class="navbar navbar-default grove-navbar" role="navigation">
      <div class="container">
         <div class="navbar-header">
            <a href="#" class="grove-toggle" data-toggle="collapse" data-target=".grove-nav">   
            <i class="glyphicons show_lines"></i>  
            </a>
            <a href="/" class="navbar-brand">
            <img src="../../../assets/img/rLogo.png" alt="DeployR"> DeployR
            </a>
         </div>
         <div class="collapse navbar-collapse grove-nav">
            <ul class="nav navbar-nav">
               <li class="dropdown">
                  <a href="#" data-toggle="dropdown">Data Scientists <b class="caret"></b></a>            
                  <ul class="dropdown-menu">
                     <li><a href="/documents/getting-started/data-scientist">Getting Started</a></li>
                <!--<li><a href="#">Learn-by-Example Tutorial</a></li>-->
                     <li><a href="/documents/dev/scientist-portable-code">Portable R Code Guide</a></li>
                     <li><a href="/documents/help/repo-man">Repository Manager Help</a></li>
                     <li><a href="/documents/getting-started/data-scientist#resources">More...</a></li>
                  </ul>
               </li>
               <li class="dropdown">
                  <a href="#" data-toggle="dropdown">Application Developers <b class="caret"></b></a>            
                  <ul class="dropdown-menu">
                     <li><a href="/documents/getting-started/application-developer">Getting Started</a></li>
                     <!--<li><a href="#">Learn-by-Example Tutorial</a></li>-->
                     <li><a href="/documents/dev/rbroker">RBroker Framework Tutorial</a></li>
                     <li><a href="/documents/dev/clientlib">Client Library Tutorial</a></li>
                     <li><a href="/documents/dev/api-doc">API Reference Guide</a></li>
                     <li><a href="/docanddown">Library Downloads</a></li>
                     <li><a href="/documents/getting-started/application-developer/#resources">More...</a></li>
                  </ul>
               </li>
               <li class="dropdown">
                  <a href="#" data-toggle="dropdown">Administrators <b class="caret"></b></a>            
                  <ul class="dropdown-menu">
                     <li><a href="/documents/getting-started/administrator">Getting Started</a></li>
                     <li><a href="/documents/admin/install">Installation & Configuration</a></li>
                     <li><a href="/documents/admin/security">Security</a></li>
                     <li><a href="/documents/admin/r-package-mgmt">R Package Management</a></li>
                     <li><a href="/documents/help/admin-console">Administration Console Help</a></li>
                     <li><a href="/documents/admin/troubleshoot">Troubleshooting</a></li>
                     <li><a href="/documents/getting-started/administrator/#resources">More...</a></li>
                  </ul>
               </li>
               <li class="dropdown">
                  <a href="#" data-toggle="dropdown">
                  Community <b class="caret"></b>
                  </a>            
                  <ul class="dropdown-menu">
                     <li><a href="http://go.microsoft.com/fwlink/?LinkID=708535" target="_blank">Forum / Discussion Group</a></li>
                     <li><a href="/faq">FAQs</a></li>
                  </ul>
               </li>
              <li class="dropdown">
                  <a href="#" data-toggle="dropdown">Download<b class="caret"></b></a>            
                  <ul class="dropdown-menu pull-right">   
                    <li><a href="/download">Download DeployR</a></li>
                    <li><a href="/documents/admin/install">Install DeployR</a></li>
                    <li><a href="/releases/">Release History</a></li>
                  </ul>
            </ul>
         </div>
         <!-- /.navbar-collapse -->
      </div>
   </nav>
</header>


    <!-- page title -->
    <div class="widewrapper pagetitle strong-highlight">
   <div class="container">
      <h1>Diagnostics &amp; Troubleshooting <small></small></h1>
      <span class="product-version">
         Version 8.1.0
         
      </span>
   </div>
</div>
  
    <div class="widewrapper sf-wrapper">
      <div class="container content" role="main">
        <div>
          
<div class="row"><div class="col-md-3" id="sidenav"><div class="bs-sidebar hidden-print hidden-xs hidden-sm" role="complementary"><ul class="nav bs-sidenav"><li class="active"><a href="#intro">Introduction</a><ul class="nav"></ul></li><li><a href="#health">Diagnostic Testing</a><ul class="nav"><li><a class="toc-section-0" href="#run-diagnostics">Running the Diagnostic Check</a></li><li><a class="toc-section-0" href="#logfiles">Inspecting Diagnostic Log Files</a></li><li><a class="toc-section-0" href="#helpme">Resolving Issues</a></li></ul></li><li><a href="#solutions">Troubleshooting</a><ul class="nav"><li><a class="toc-section-0" href="#servernoconnect">Landing Page Cannot Be Reached</a></li><li><a class="toc-section-0" href="#localhost-ie">Landing Page Blocked in I.E. 11</a></li><li><a class="toc-section-0" href="#noaccess">Cannot Access DeployR</a></li><li><a class="toc-section-0" href="#multusers">Multiple User Sign-ins</a></li><li><a class="toc-section-0" href="#new-rre">Issues After Reinstalling Microsoft R or R</a></li><li><a class="toc-section-0" href="#more-memory">Upping R Session Memory Limits</a></li><li><a class="toc-section-0" href="#access-denied">Access Denied to Tomcat (Windows)</a></li><li><a class="toc-section-0" href="#setrhome">Inactive Grid Node (Windows 7)</a></li><li><a class="toc-section-0" href="#no-explorer">Cannot See API Explorer Tool</a></li><li><a class="toc-section-0" href="#tomcat-ports">Changing Tomcat Port Numbers</a></li></ul></li></ul></div></div><div class="col-md-9" role="main"><div class="container-fluid content doc-content"><h1 id="intro">Introduction</h1>

<p>This document describes how to run and interpret the DeployR diagnostic test. Additionally, this document offers solutions to issues that you might be <a href="#solutions">troubleshooting</a> after installing or during your use of DeployR.</p>
<h1 id="health">Diagnostic Testing</h1>

<p>You can assess the state and health of your DeployR environment by running the diagnostic test described in this document. The diagnostic script:</p>
<ul>
<li><p>Outputs basic details about your environment</p>
</li>
<li><p>Identifies unresponsive components, such as the server, grid nodes, or the database</p>
</li>
<li><p>Gathers all relevant <a href="#logfiles">log and configuration files</a></p>
</li>
</ul>
<p>Armed with this information, you will be able to investigate and resolve most issues. And, in the event that you need additional support, you can send the diagnostics tar/zip file to the Microsoft Corporation technical support team.</p>
<p>Behind the scenes, the script evaluates the system and creates the <code>logs</code> subdirectory to store:</p>
<ul>
<li><p>The resulting log file (<code>diagnostics.log</code>), which provides details, including the state of all components, plus pertinent configuration and environment information.</p>
</li>
<li><p>Copies of each <a href="#logfiles">log and configuration file</a></p>
</li>
</ul>
<p>The results are also printed to the screen.</p>
<h2 id="run-diagnostics">Running the Diagnostic Check</h2>

<p>There are two ways to run the diagnostic tests:</p>
<ul>
<li>The easiest way to run diagnostics is to launch it from the <strong>Diagnostics</strong> tab on the DeployR landing page. <p>After installing DeployR 8.1.0 and setting the password for the <code>admin</code> user account, you can log into the DeployR landing page.  The landing page is accessible at <code>http&#58;//&lt;DEPLOYR_SERVER_IP&gt;:8100/deployr/landing</code>, where <code>&lt;DEPLOYR_SERVER_IP&gt;</code> is the IP address of the DeployR main server machine. </p></li>
</ul>
<ul>
<li><p>However, if you cannot reach the landing page, the <code>admin</code> can log into the server and manually run it using the following commands:
</p><ul class="code-tabs nav nav-tabs"><li class="active"><a href="#tab-VJJxhmauMTg-0" data-toggle="tab" data-type="">Linux / OS X</a></li><li class=""><a href="#tab-VJJxhmauMTg-1" data-toggle="tab" data-type="">Windows</a></li></ul><div class="tab-content"><div class="tab-pane active" id="tab-VJJxhmauMTg-0"><p></p>
 <div class="well well-sm"><strong>Note: </strong> If the server log, <code>catalina.out</code>, contains information you do not wish to share with technical support, you can exclude that file. To do so, add <code>--exclude-server-log</code>, such as:<code>./diagnostics.sh --exclude-server-log</code></div>

<pre><code> cd $DEPLOYR_HOME/deployr/diagnostics 
 ./diagnostics.sh</code></pre>
<p> All output from the diagnostic test are stored in the <code>logs</code> subdirectory as well as bundled into <code>diagnostics.tar.gz</code>.
</p></div><div class="tab-pane" id="tab-VJJxhmauMTg-1"><p></p>
 <div class="well well-sm"><strong>Note: </strong> If the server log, <code>catalina.[YYYY-MM-DD].log</code>, contains information you do not wish to share with technical support, you can exclude that file. To do so, add <code>--exclude-server-log</code>, such as:<code>diagnostics.bat --exclude-server-log</code></div>

<pre><code> cd C:\Program Files\Microsoft\DeployR\8.1\deployr\diagnostics 
 diagnostics.bat</code></pre>
<p> All output from the diagnostic test are stored in the <code>logs</code> subdirectory as well as bundled into <code>diagnostics.zip</code>.
</p></div></div><p></p>
</li>
</ul>
<h2 id="logfiles">Inspecting Diagnostic Log Files</h2>

<p>A copy of the following log and configuration files are bundled together during the diagnostic check. Review the log and configuration files for any component that was identified as experiencing issues.
<br/>
<br/></p>
<p></p><ul class="code-tabs nav nav-tabs"><li class="active"><a href="#tab-E1xeh7adG6e-0" data-toggle="tab" data-type="">Linux / OS X</a></li><li class=""><a href="#tab-E1xeh7adG6e-1" data-toggle="tab" data-type="">Windows</a></li></ul><div class="tab-content"><div class="tab-pane active" id="tab-E1xeh7adG6e-0"><p></p>
<p>The following log files can be found in the resulting <code>diagnostics.tar.gz</code> file as well as under <code>$DEPLOYR_HOME/deployr/diagnostics/logs</code> directly on the DeployR host.
<br/>
<br/></p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Log &amp; Config Files</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Diagnostic&nbsp;Results</td>
<td><code>diagnostics.log</code></td>
<td>The DeployR diagnostic log provides details, including the state of all components, plus pertinent configuration and environment information.</td>
</tr>
<tr>
<td>DeployR</td>
<td><code>deployr.groovy</code><br/><code>catalina.out</code></td>
<td><code>deployr.groovy</code> is the  DeployR external configuration file. Tomcat&#39;s <code>catalina.out</code> serves as the main <a href="/documents/admin/common/#logs">DeployR log</a>. <a href="/documents/admin/common/#logs">Learn more</a> about this file.</td>
</tr>
<tr>
<td>Tomcat</td>
<td><code>catalina.out</code><br/><code>catalina.sh</code><br/><code>localhost_access_log.[DATE].txt</code><br/><code>server.xml</code></td>
<td>The log and configuration files for Tomcat.</td>
</tr>
<tr>
<td>RServe</td>
<td><code>Rserv.conf</code><br/><code>Rserv-localhost.log</code></td>
<td>The log and configuration files for RServe. <br/><br/><strong>DeployR Enterprise Only</strong>: The RServe files for remote grid nodes are not bundled. If you suspect an issue on a node, please log onto that machine to retrieve its RServe log file.</td>
</tr>
</tbody>
</table>
<p></p></div><div class="tab-pane" id="tab-E1xeh7adG6e-1"><p></p>
<p>The following log files can be found in the resulting <code>diagnostics.zip</code> file as well as under <code>C:\Program Files\Microsoft\DeployR\8.1\deployr\diagnostics\logs</code> directly on the DeployR host.
<br/>
<br/></p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Log &amp; Config Files</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Diagnostic&nbsp;Results</td>
<td><code>diagnostics.log</code></td>
<td>The DeployR diagnostic log provides details, including the state of all components, plus pertinent configuration and environment information.</td>
</tr>
<tr>
<td>DeployR</td>
<td><code>deployr.groovy</code><br/><code>Stacktrace.log</code><br/><code>catalina.out</code></td>
<td><code>deployr.groovy</code> is the  DeployR external configuration file. Tomcat&#39;s <code>catalina.out</code> serves as the main <a href="/documents/admin/common/#logs">DeployR log</a>. <a href="/documents/admin/common/#logs">Learn more</a> about this file.</td>
</tr>
<tr>
<td>Tomcat</td>
<td><code>catalina.out</code><br/><code>localhost_access_log.[DATE].txt</code><br/><code>server.xml</code></td>
<td>The log and configuration files for Tomcat.</td>
</tr>
<tr>
<td>RServe</td>
<td><code>Rserv.cfg</code></td>
<td>The configuration file for RServe. The IP address is added to the filename for your convenience. <br/><br/><strong>DeployR Enterprise Only</strong>: The RServe files for remote grid nodes are not bundled. If you suspect an issue on a node, please log onto that machine to retrieve its RServe log file.</td>
</tr>
</tbody>
</table>
<p></p></div></div><p></p>
<h2 id="helpme">Resolving Issues</h2>

<p>Use the following instructions if you have <a href="#run-diagnostics">run the diagnostic test</a> and a problem was indicated.</p>
<p><strong>To resolve component issues:</strong></p>
<ol>
<li><p>Look through the <a href="#logfiles">log and configuration files</a> for each component that was identified in the diagnostic report.</p>
</li>
<li><p>If the log file indicates an error, then fix it. </p>
</li>
<li><p>If Server Web Context points to the wrong IP, <a href="#set-context">update it now</a>. </p>
<ul>
<li><p>Set the DeployR <a href="/documents/admin/troubleshoot/#set-context">server Web context</a> to the external <strong>Public IP</strong> or else you will not be able to access to the DeployR landing page or other DeployR components after installation and be sure the automatic detection of IP address: &nbsp;(Setup: <a href="/documents/admin/install/azure/#set-context-azure">Azure</a> | <a href="/documents/admin/install/aws-setup">AWS</a> ). </p>
</li>
<li><p>Open <a href="#update-firewall">DeployR ports</a> <code>8100</code>, <code>8101</code>, and <code>8106</code>: &nbsp;(Setup: <a href="/documents/admin/install/azure/#endpoints">Azure</a> | <a href="/documents/admin/install/aws-setup">AWS</a> ).</p>
</li>
</ul>


</li>
</ol>
<ol>
<li><p>After making your corrections, <a href="/documents/admin/common/#server">restart the component</a> in question. It may take a few minutes for a component to restart. </p>
</li>
<li><p><a href="#run-diagnostics">Run the diagnostic test</a> again to make sure all is running smoothly now.</p>
</li>
<li><p>If problem persists:</p>
<ul>
<li><p>After trying the first time, repeat steps 1-4. </p>
</li>
<li><p>Review the other <a href="#solutions">Troubleshooting</a> topics.</p>
</li>
<li><p>Post your questions to our <a href="http://go.microsoft.com/fwlink/?LinkID=708535" target="_blank">DeployR Forum</a>.</p>
</li>
<li><p>After the second time, send the diagnostics tar/zip file to the Microsoft Corporation technical support team.</p>
</li>
</ul>
</li>
</ol>
<h1 id="solutions">Troubleshooting</h1>

<p>This section contains pointers to help you troubleshoot some problems that can occur with DeployR.</p>
<h2 id="servernoconnect">Landing Page Cannot Be Reached</h2>

<p>If you cannot access the DeployR landing page or if the landing page looks disabled and you can&#39;t log in, we recommend that you first verify that the server is, in fact, running using <a href="#run-diagnostics">this diagnostic test</a>. If the diagnostic logs reveal nothing and the DeployR landing page still isn&#39;t loading properly, then it is likely that the IP address in the Server Web Context is incorrectly defined. For more on the Server Web Context, refer to the <a href="/documents/help/admin-console//#..//Content/Topics/policies-properties.htm#basic">Administration Console Help</a>. </p>
<div class="thumbnail"><img src="./assets/img/noaccess.png" alt="Landing Page Inaccessible"></div>

<p>This problem can arise for various reasons, including:</p>
<ul>
<li><p>When an internal IP address was automatically assigned instead of an external address. This is most common with Azure or an Amazon Web Services (AWS) EC2 instances, but can occur with other configurations.</p>
</li>
<li><p>When the underlying IP address of your DeployR server has changed. This is most common when you have installed the DeployR server on a portable laptop and have since changed networks (for example, between your office and your home).</p>
</li>
</ul>
<p>To fix this issue, run the <code>setWebContext</code> script to update the IP address in the DeployR Server Web Context. </p>
<p>&nbsp;<a name="set-context"></a></p>
<p>Usage tips for the <code>setWebContext</code> script arguments:</p>
<ul>
<li>Use <code>-query</code> to see which IP is currently defined as the Server Web Context.  </li>
<li>Use <code>-aws</code> to detect the external IP used for your AWS EC2 instance. From there you can choose to use that IP as the DeployR Server Web Context. </li>
<li>Use <code>-ip &lt;ip_address&gt;</code> to specify a new IP address or DNS name for the DeployR Server Web Context.</li>
<li>Use <code>-disableauto</code> to turn off the automatic IP detection. You can <a href="/documents/help/admin-console//#..//Content/Topics/policies-properties.htm#basic">turn this back on</a> in the Administration Console. </li>
<li>Use <code>-https true|false</code> to enable or disable HTTPS in the server policies, including the Server Web Context. This change requires other changes to complete SSL/HTTPS process as described in <a href="/documents/admin/security/#httpson">these instructions</a>.
<br/>&nbsp;</li>
</ul>
<p><strong>To update the IP address specified for the Server Web Context:</strong></p>
<p></p><ul class="code-tabs nav nav-tabs"><li class="active"><a href="#tab-N1bghXTOfpx-0" data-toggle="tab" data-type="">Linux / Mac OS X</a></li><li class=""><a href="#tab-N1bghXTOfpx-1" data-toggle="tab" data-type="">Windows</a></li></ul><div class="tab-content"><div class="tab-pane active" id="tab-N1bghXTOfpx-0"><p></p>
<ol>
<li><p>Run the <code>setWebContext.sh</code> script with the appropriate arguments (see preceding table):</p>
<pre><code>/home/deployr-user/deployr/8.1.0/deployr/tools/setWebContext.sh -query|-aws|-ip &lt;ip_address&gt;</code></pre>
</li>
<li><p>For this change to take effect <a href="/documents/admin/common/#server">restart the DeployR services</a>. Between stopping and starting, be sure to pause long enough for the Tomcat process to terminate.</p>
</li>
</ol>
<p></p></div><div class="tab-pane" id="tab-N1bghXTOfpx-1"><p></p>
<ol>
<li><p>Open a Command Window with <strong>“Run as Administrator”</strong>.</p>
</li>
<li><p>Run the <code>setWebContext.bat</code> script with the appropriate arguments (see preceding table):</p>
<pre><code>C:\Program Files\Microsoft\DeployR\8.1\deployr\tools\setWebContext.bat -query|-aws|-ip &lt;ip_address&gt;</code></pre>
</li>
<li><p>For this change to take effect <a href="/documents/admin/common/#server">restart the DeployR services</a>. Between stopping and starting, be sure to pause long enough for the Tomcat process to terminate.</p>
</li>
</ol>
<div class="well well-sm"><strong>Note: </strong> If this doesn&#39;t resolve the issue and you have Internet Explorer 11 on Windows, <a href="#localhost-ie">try this</a>.</div>

<p></p></div></div><p></p>
<h2 id="localhost-ie">Landing Page Blocked in I.E. 11</h2>

<div class="alert alert-info"><strong>Windows only: </strong> 
This issue applies only to Internet Explorer 11 on Windows. </div>

<p>If you are attempting to access the DeployR landing page using <code>http://localhost:8100/deployr/landing</code> in Internet Explorer (I.E.) 11 and the <a href="#health">diagnostic tests</a> have turned up nothing, you may find that the landing page is blocked. This may be due to some default settings in I.E. 11.  </p>
<p><strong>To solve this issue:</strong></p>
<ol>
<li><p>In Internet Explorer 11, go to the <strong>Security</strong> tab in the <strong>Internet Options</strong> dialog box. </p>
<div align="center"><img width="400" src="./assets/img/ie11.png"></div>
</li>
<li><p>Add <code>http://localhost:8100/deployr</code> to the <strong>Trusted Sites</strong> list.</p>
</li>
<li><p>In the <strong>Connections</strong> tab in the same <strong>Internet Options</strong> dialog box, click <strong>LAN settings</strong>. </p>
<div align="center"><img width="400" src="./assets/img/ie11connections.png"></div>
</li>
<li><p>Deselect the <strong>Automatically detect settings</strong> checkbox to enable custom entries in the HOSTS file. </p>
</li>
<li><p>Click <strong>OK</strong> to apply the changes.  </p>
</li>
</ol>
<h2 id="noaccess">Cannot Access DeployR</h2>

<div class="alert alert-info"><strong>Windows only: </strong> 
This is a Windows only issue. </div>

<p>During the installation of DeployR on Windows, the &#39;Domain&#39; profile is used to create inbound exceptions for the ports used by DeployR.  These settings may need to be adjusted after installing to meet the needs of your deployment.</p>
<h2 id="multusers">Multiple User Sign-ins</h2>

<p>You cannot log into DeployR from two different accounts within the same brand of browser program. To use two or more different accounts, you&#39;ll need to log into each one in a separate brand of browser.</p>
<p>For example, to log into the DeployR Administration Console with admin account and into the API explorer tool with another user account, open one in Google Chrome™ and the other in Mozilla® Firefox®.</p>
<h2 id="new-rre">Issues After Reinstalling Microsoft R or R</h2>

<p>If you want to upgrade or reinstall R, Microsoft R Services, or Revolution R Open, then follow <a href="/documents/admin/reinstallr/#reinstallr-intro">these instructions precisely</a>.</p>
<p>However, if you upgraded or reinstalled and are now having issues, see below.</p>
<p><h3 id="for-deployr-enterprise">For DeployR Enterprise</h3></p>
<p></p><ul class="code-tabs nav nav-tabs"><li class="active"><a href="#tab-EkGx3Qadzpl-0" data-toggle="tab" data-type="">Linux</a></li><li class=""><a href="#tab-EkGx3Qadzpl-1" data-toggle="tab" data-type="">Windows</a></li></ul><div class="tab-content"><div class="tab-pane active" id="tab-EkGx3Qadzpl-0"><p>
If the issue is that Rserve is not running on a machine, then you&#39;ll need to restart it.</p>
<p>Try the following:</p>
<ol>
<li><a href="/documents/admin/troubleshoot/#health">Run the diagnostics</a> to determine whether the issue is on the main server or a grid node. </li>
<li>Make sure there is <a href="/documents/help/admin-console/#Topics/node-slot-activity.htm">no activity on the DeployR grid.</a></li>
<li><a href="/documents/admin/common/#server">Stop DeployR on the machine in question.</a></li>
<li>Attempt to correct all issues reported in the <a href="/documents/admin/troubleshoot/#logfiles">diagnostics log.</a>  </li>
<li><a href="/documents/admin/common/#server">Start DeployR on the machine in question.</a></li>
<li>Run the diagnostics again. </li>
</ol>
<p>In the event that you need additional support, send the diagnostics tar/zip file to the Microsoft Corporation technical support team.  </p>
<p></p></div><div class="tab-pane" id="tab-EkGx3Qadzpl-1"><p>
IfMicrosoft R Services, Revolution R Open, or R is not reinstalled as described at the beginning of this document, then Rserve may be missing.</p>
<p>Try the following:</p>
<ol>
<li><a href="/documents/admin/troubleshoot/#health">Run the diagnostics</a> to determine whether the issue is on the main server or a grid node. </li>
<li>If RServe is not running and you cannot find it in the <code>\bin\x64</code> subdirectory of the Microsoft R Services install directory, then you must reinstall as <a href="/documents/admin/reinstallr/#reinstallr-pro">described here</a>.</li>
<li>If there are other issues reported in the <a href="/documents/admin/troubleshoot/#logfiles">diagnostics log</a>, attempt to fix them now. </li>
<li>Run the diagnostics again. </li>
</ol>
<p>In the event that you need additional support, send the diagnostics tar/zip file to the Microsoft Corporation technical support team. </p>
<p></p></div></div><p></p>
<div class="alert alert-warning"><strong>Important! </strong>
For each DeployR Enterprise instance, the server and grid nodes should all run the same version of Microsoft R Services, Revolution R Open, or R. </div>


<h3 id="for-deployr-open">For DeployR Open</h3>
<p></p><ul class="code-tabs nav nav-tabs"><li class="active"><a href="#tab-V17l3Xa_Mag-0" data-toggle="tab" data-type="">Linux / Mac OS X</a></li><li class=""><a href="#tab-V17l3Xa_Mag-1" data-toggle="tab" data-type="">Windows</a></li></ul><div class="tab-content"><div class="tab-pane active" id="tab-V17l3Xa_Mag-0"><p>
If the issue is that Rserve is not running on a machine, then you&#39;ll need to restart it.</p>
<p>Try the following:</p>
<ol>
<li><a href="/documents/admin/troubleshoot/#health">Run the diagnostics</a> to confirm Rserve is not running. </li>
<li>Make sure there is <a href="/documents/help/admin-console/#Topics/node-slot-activity.htm">no activity on the DeployR grid.</a></li>
<li><a href="/documents/admin/common/#server">Stop DeployR.</a></li>
<li>Attempt to correct all issues reported in the <a href="/documents/admin/troubleshoot/#logfiles">diagnostics log</a>.</li>
<li><a href="/documents/admin/common/#server">Start DeployR.</a></li>
<li>Run the diagnostics again. </li>
</ol>
<p>In the event that you need additional support and have purchased a support agreement, send the diagnostics tar/zip file to the Microsoft Corporation technical support team. </p>
<p></p></div><div class="tab-pane" id="tab-V17l3Xa_Mag-1"><p>
If Revolution R Open or CRAN R is not reinstalled as described at the beginning of this document, then Rserve may be missing.</p>
<p>Try the following:</p>
<ol>
<li><a href="/documents/admin/troubleshoot/#health">Run the diagnostics</a> to confirm RServe is missing. </li>
<li>If RServe is not running and you cannot find it in the <code>\bin\x64</code> subdirectory of the Revolution R Open or R install directory, then you must reinstall as <a href="/documents/admin/reinstallr/#reinstallr-comm">described here</a>.</li>
<li>If RServe is present and running, and there are other issues reported in the <a href="/documents/admin/troubleshoot/#logfiles">diagnostics log</a>, attempt to fix them now. </li>
<li>Run the diagnostics again. </li>
</ol>
<p>In the event that you need additional support and have purchased a support agreement, send the diagnostics tar/zip file to the Microsoft Corporation technical support team. 
</p></div></div><p></p>


<h2 id="more-memory">Upping R Session Memory Limits</h2>

<div class="alert alert-info"><strong>Windows only: </strong> 
This is a Windows only issue. </div>

<p>By default, the maximum memory available to an R session under DeployR on Windows Rserve is 2 GB.  If this is insufficient for your purposes, then you can increase the memory allocated for your R sessions by executing the <code>memory.limit()</code> R function on the R session. This function allows you to specify a higher memory allocation for your R session. The size parameter on that function call determines the final memory allocation for the R session. In general:</p>
<pre><code>memory.limit(size = &lt;MAX_MEM_LIMIT&gt;)</code></pre>
<p>It is often convenient to add this function call to the start of any R script that requires runtime memory resources in excess of the default 2 GB  on Windows.</p>
<p>For example, the following line will raise the maximum memory limit to 10 GB for your R session:</p>
<pre><code>memory.limit(size = 10240)</code></pre>
<div class="well well-sm"><strong>Notes: </strong> 
<ul>
  <li>The increase in the memory allocation takes place only once the line is executed.
  <li>The memory allocated during a session can only be increased, and not decreased.
  <li>The value for <code>memory.limit</code> is not applied system wide. Instead, it applies only to the R session where the <code>memory.limit</code> function has been executed.
</ul>
</div>
<div class="alert alert-warning"><strong>Important! </strong>
Grid nodes have finite memory resources. Keep these resource limits in mind when adjusting memory allocations for individual R sessions.
</div>

<h2 id="access-denied">Access Denied to Tomcat (Windows)</h2>

<div class="alert alert-info"><strong>Windows only: </strong> 
This is a Windows only issue. </div>

<p>If you reboot after installing and get an access error message for Tomcat, you can specify that Tomcat should be run “as an administrator” to stop the message from appearing. The error is related to <code>tomcat7w.exe</code>, which is an application for monitoring and configuring Tomcat services. The error message is: <em>“Access is denied. Unable to open the service Tomcat”</em></p>
<p><strong>To set Tomcat program to run as an administrator, do the following:</strong></p>
<ol>
<li><p>Right-click <code>tomcat7w.exe</code> and choose <strong>Properties</strong> from the shortcut menu. <code>tomcat7w.exe</code> is a GUI application for monitoring and configuring Tomcat services.</p>
</li>
<li><p>In the Properties dialog, select the checkbox <em>Run this program as an administrator checkbox</em> in the <strong>Privilege Level</strong> area.</p>
</li>
<li><p>Click <strong>OK</strong>.</p>
</li>
<li><p>Launch DeployR again.</p>
</li>
</ol>
<h2 id="setrhome">Inactive Grid Node (Windows 7)</h2>

<div class="alert alert-info"><strong>Windows only: </strong> 
This is a Windows 7 only issue. </div>

<p>If the <strong>DeployR Default Node</strong> appears <strong>Inactive</strong> in the DeployR  landing page directly after having installed DeployR  on a Windows 7 machine, then the <code>R_HOME</code> variable may not be set.</p>
  <div align="center"><img width="400" src="./assets/img/inactivenode.png"></div>

<p><strong>To correct this issue:</strong></p>
<ol>
<li><p>Check the status of the <strong>DeployR Default Node</strong> in the DeployR landing page at <code>http&amp;#58;//&amp;lt;DEPLOYR_SERVER_IP&amp;gt;:8100/deployr/landing</code>. If it appears <strong>Inactive</strong>, continue to the next step.</p>
</li>
<li><p>Verify the status of  RServe8.0 in the <strong>Services</strong> dialog box. If it appears as <code>Started</code>, continue to the next step. If not, start it now and go back to step 1.
<br/>Tip: Go to <strong>Start &gt; Control Panel</strong>. Search for <code>admin</code> and select <strong>Administrative Tools</strong> from the results. Choose <strong>Services</strong> to open the <strong>Services</strong> dialog box. </p>
</li>
<li><p>At a DOS command prompt, go to the <code>bin\x64</code> directory for R and start RServe. Pay particular attention to the messages printed to the window. For example:</p>
<pre><code>cd C:\Program Files\RRO\R-3.2.2\bin\x64
RServe8.0</code></pre>
</li>
<li><p>If you see the message &quot;R_HOME must be set in the environment or Registry&quot;, then you must define that environment variable as follows:</p>
<ol>
<li>Go to <strong>Start &gt; Control Panel</strong>. </li>
<li>Search for <code>sys</code> and select <strong>Edit the system environment variables</strong> from the results.  </li>
<li>Click the <strong>Environment Variables...</strong> button to open the <strong>Environment Variables</strong> dialog box. </li>
<li>Click <strong>New...</strong> and enter <code>R_HOME</code> as the <strong>Variable name</strong> and the path to R (such as <code>C:\Program Files\RRO\R-3.2.2\</code>) as the <strong>Variable value</strong>. </li>
<li>Click <strong>OK</strong> to create the variable.
<br><br> </li>
</ol>
</li>
<li><p>Reboot your machine.</p>
</li>
<li><p>Go back to landing page and verify that the grid node is now active. </p>
</li>
</ol>
<h2 id="no-explorer">Cannot See API Explorer Tool</h2>

<ol>
<li><p>Ensure Adobe Flash Player is installed and configured to work with your browser.</p>
</li>
<li><p>Clear your browser’s cache before launching the API Explorer tool. This is particularly important if you are upgrading from a previous version of DeployR.</p>
</li>
</ol>
<h2 id="tomcat-ports">Changing Tomcat Port Numbers</h2>

<p>If you run into conflicts with other applications, consider changing the port numbers. You only need to change the port numbers of those applications that are actively conflicting. Consequently, not all of the following steps may apply to your situation.</p>
<p></p><ul class="code-tabs nav nav-tabs"><li class="active"><a href="#tab-4JVg3XadGTg-0" data-toggle="tab" data-type="">Linux / OS X</a></li><li class=""><a href="#tab-4JVg3XadGTg-1" data-toggle="tab" data-type="">Windows</a></li></ul><div class="tab-content"><div class="tab-pane active" id="tab-4JVg3XadGTg-0"><p></p>
<ol>
<li><p>Edit the file <code>&lt;DeployR_Install_Dir&gt;/tomcat/tomcat7/conf/server.xml</code>.</p>
</li>
<li><p>Find the port number value by searching for <code>&lt;Connector port=”8100”</code></p>
</li>
<li><p>Replace the port value with a new, unique port number.</p>
</li>
<li><p>Save the file.</p>
</li>
<li><p>Restart Tomcat for the changes to take effect. At the prompt, type:</p>
<pre><code>/home/deployr-user/deployr/8.1.0/tomcat/tomcat7.sh stop
/home/deployr-user/deployr/8.1.0/tomcat/tomcat7.sh start</code></pre>
</li>
<li>Verify that the port changes are working as expected. At the prompt, type:<pre><code>netstat -p --listening --numeric-ports --numeric-hosts | grep -i java</code></pre>
</p></div><div class="tab-pane" id="tab-4JVg3XadGTg-1"><p></li>
<li><p>In the <code>C:\Program Files\Microsoft\DeployR\8.1\Apache_Tomcat</code> directory, open the file <code>server.xml</code>.</p>
</li>
<li><p>Find: <code>port=”8100”</code></p>
</li>
<li><p>Replace the port value with a new, unique port number.</p>
</li>
<li><p>Save the file.</p>
</li>
<li><p>Restart Tomcat for the changes to take effect.</p>
<pre><code>net stop Apache-Tomcat-for-DeployR-8.1
net start Apache-Tomcat-for-DeployR-8.1</code></pre>
<p></p></div></div><p></p>
</li>
</ol>
<hr>
</div></div></div>
        </div>    
      </div>
      <div class="push"></div>
    </div>

    <!-- Footer
    ================================================== -->

    <footer class="widewrapper footer bs-footer" role="contentinfo">
  <div class="container">
    <div class="row footer">
      <div class="col-sm-3">
        <h4>Get Started</h4>
        <ul class="grove-list">
          <li><a href="/documents/getting-started/about">About DeployR</a></li>
          <li><a href="/download">Download DeployR</a></li>
          <li><a href="/documents/admin/install">Install DeployR</a></li>
          <li><a href="/documents/admin/troubleshoot">Troubleshooting & Diagnostics</a></li>
        </ul>
      </div>
      <div class="col-sm-3">
        <h4>Develop</h4>
        <ul class="grove-list">
          <li><a href="/dev">Get Client Developer Tools</a></li>
            <li><a href="/docanddown#rbroker">RBroker Framework</a></li>
          <li><a href="/docanddown#clientlib">API Client Libraries</a></li>
          <li><a target="_blank" href="/documents/dev/api-doc">API Reference Guide</a></li>
          <li><a target="_blank" href="/documents/help/repo-man">Repository Manager</a></li>
         <!-- <li><a href="/docanddown#integration">3rd Party Tool Integration</a></li>-->
        </ul>
      </div>
      <div class="col-sm-3">
        <h4>Manage</h4>
          <ul class="grove-list">
            <li><a target="_blank" href="/documents/help/admin-console">Administration Console</a></li>
            <li><a href="/documents/admin/security">Security Guide</a></li>
            <li><a href="/documents/admin/throughput">Scale & Throughput</a></li>
            <li><a href="/documents/admin/highavail">High Availability</a></li>
            <li><a href="/documents/admin/bigdata">Managing Big Data</a></li>
          </ul>
      </div>
      <div class="col-sm-3">
        <h4>DeployR 8.1.0</h4>
          <ul class="grove-list">
            <li><a href="/license">License Information</a></li>
      	    <li><a href="/documents/admin/whats-new/">What's New in 8.1.0</a></li>
	          <li><a href="http://go.microsoft.com/fwlink/?LinkID=708535" target="_blank">Join the DeployR Forum</a></li>
	          <li><a href="/releases/">Release Archives</a></li>
          </ul>
         <div><small> &copy; 2015 Microsoft Corporation</small></div>
      </div>    
    </div>
  </div>          
</footer> 

    
    <!-- JS and analytics only. -->
    <!-- Bootstrap core JavaScript
================================================== -->
<script src="../../../assets/js/vendor/bootstrap/bootstrap.min.js"></script>
<script src="../../../assets/js/vendor/modernizr/modernizr.js"></script>
<script src="../../../assets/js/highlight.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<!-- Google Analytics (click event)
================================================== -->

<script>
   $('.ga-track').on('click', function() {
      try { 
        var label = $(this).data('ga') || $(this).text();
        ga('send', 'event', 'button', 'click', label);
      } catch (err) {}
   });
</script>

<!-- TOC
================================================= -->
<script>
  // back to top
  setTimeout(function () {
     var $sideBar = $('.bs-sidebar');
     if (!$sideBar) { return; }
     $sideBar.affix({
     offset: {
     top: function () {
        var offsetTop = $sideBar.offset().top
        var sideBarMargin = parseInt($sideBar.children(0).css('margin-top'), 10)
        var navOuterHeight = $('.bs-docs-nav').height()
        return (this.top = offsetTop - navOuterHeight - sideBarMargin)
      }
      , bottom: function () {
        return (this.bottom = $('.bs-footer').outerHeight(true))
      }
    }
    })
  }, 100)
</script>

<script>
  $('.tab-content div').each(function( index ) {
    if(index === 0) { $(this).addClass('active'); }
  });

  $('.code-tabs a').click(function (e) {
  });

</script>

     
  </body>
</html>